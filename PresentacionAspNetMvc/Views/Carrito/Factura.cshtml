@model TiendaVirtual.Entidades.Factura


@{
    ViewBag.Title = "Factura";
    decimal baseI = (decimal)Model?.ImporteSinIva;
}

<section id="factura" class="row">
    <h3>Factura</h3>
    <hr />
    <div id="datosvendedor" class="col-xs-6 col-sm-8">
        <p>Vendedor Vendedorez (CopyPasteShop)</p>
        <p>Su dirección</p>
        <p>44444</p>
        <p>Su Localidad</p>
        <p>12.345.678Z</p>
        <p>12/12/17</p>
        <p>Factura: CPS/0045/2017</p>
    </div>
    <div id="datoscliente" class="col-xs-6 col-sm-4">
        <p>
            @(Model?.Usuario?.Nick)
        </p>
        <p>Su dirección</p>
        <p>44444</p>
        <p>Su Localidad</p>
        <p>12.345.678Z</p>
    </div>
    <div class=" col-sm-offset-1 col-sm-10">
        <table class="table table-striped table-hover table-condensed">
            <thead>
                <tr>
                    <th>Imagen</th>
                    <th>Artículo</th>
                    <th>Precio</th>
                    <th>Cantidad</th>
                    <th>PVP</th>
                </tr>
            </thead>
            <tbody>
                @foreach (var item in Model.LineasFactura)
                {
                    <tr>
                        <td>
                            <img alt="" class="thumbnail" height="30" width="40" src="~/fotos/(@(item.Producto.Id)).png" />
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Producto.Nombre)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Producto.Precio) €
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Cantidad)
                        </td>
                        <td>
                            @Html.DisplayFor(modelItem => item.Total) €
                        </td>
                    </tr>
                }

            </tbody>
            <tfoot>
                <tr>
                    <td></td>
                    <td></td>
                    <th>Base Imponible</th>
                    <th> @(Model?.ImporteSinIva.ToString("C"))</th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <th>IVA</th>
                    <th>
                        @(Model?.Iva.ToString("C"))
                    </th>
                </tr>
                <tr>
                    <td></td>
                    <td></td>
                    <th>Total</th>
                    <th>
                        @(Model?.Total.ToString("C"));
                    </th>
                </tr>
            </tfoot>
        </table>
        <a href="@Url.Action("Index", "Productos")">
            <span class="glyphicon glyphicon-chevron-left" aria-hidden="true"></span>
            Volver a la Tienda
        </a>

        <p>
            @Html.ActionLink("Imprimir", "GenerarFactura", null, new { @class = "btn btn-primary pull-right", role = "button" })
        </p>

    </div>

</section>
